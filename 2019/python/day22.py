SEQUENCE = [
(inc, 66),
(cut, -2068),
(inc, 8),
(cut, -6565),
(inc, 22),
(cut, -8629),
(inc, 56),
(cut, -697),
(inc, 58),
(cut, 4957),
(inc, 71),
(cut, -4506),
(inc, 39),
(cut, 6144),
(inc, 48),
(cut, 1392),
(inc, 51),
(cut, -8043),
(inc, 30),
(cut, 7798),
(inc, 25),
(deal,),
(inc, 43),
(cut, 1048),
(inc, 63),
(cut, 257),
(deal,),
(inc, 15),
(deal,),
(inc, 12),
(deal,),
(cut, 3316),
(inc, 68),
(cut, -4495),
(inc, 4),
(cut, -421),
(inc, 11),
(cut, 7629),
(inc, 32),
(cut, -3956),
(inc, 33),
(cut, -596),
(inc, 42),
(cut, 8505),
(deal,),
(cut, 4215),
(inc, 74),
(cut, 9999),
(inc, 7),
(deal,),
(inc, 71),
(cut, 6836),
(inc, 27),
(cut, 188),
(inc, 45),
(deal,),
(inc, 17),
(cut, -6659),
(deal,),
(cut, -8919),
(inc, 23),
(cut, 7758),
(inc, 58),
(cut, -9377),
(inc, 51),
(cut, -8010),
(deal,),
(cut, -8058),
(inc, 57),
(deal,),
(inc, 7),
(cut, -1977),
(deal,),
(cut, -4748),
(inc, 55),
(cut, -2901),
(deal,),
(cut, 4362),
(inc, 65),
(cut, -4367),
(inc, 51),
(cut, 2133),
(deal,),
(inc, 15),
(deal,),
(inc, 28),
(cut, -5331),
(inc, 41),
(cut, -5157),
(inc, 68),
(cut, 4776),
(deal,),
(inc, 28),
(cut, 2005),
(inc, 14),
(deal,),
(cut, 1341),
(deal,),
(cut, 7623),
(inc, 36),
]

def deal(c, size):
    return size - 1 - c

def cut(n, c, size):
    return c + size - n

def inc(n, c, size):
    return c * n

card = 2019
size = 10007

for shuffle in SEQUENCE:
    op = shuffle[0]
    card = op(*shuffle[1:], card, size) 
    print(card % size)
