def deal(c, size):
    return size - 1 - c

def cut(n, c, size):
    return c + size - n

def inc(n, c, size):
    return c * n

card = 2019
size = 10007

SEQUENCE = [
(66, 0),
(1, size-(-2068)),
(8, 0),
(1, size-(-6565)),
(22, 0),
(1, size-(-8629)),
(56, 0),
(1, size-(-697)),
(58, 0),
(1, size-(4957)),
(71, 0),
(1, size-(-4506)),
(39, 0),
(1, size-(6144)),
(48, 0),
(1, size-(1392)),
(51, 0),
(1, size-(-8043)),
(30, 0),
(1, size-(7798)),
(25, 0),
(-1, size-1),
(43, 0),
(1, size-(1048)),
(63, 0),
(1, size-(257)),
(-1, size-1),
(15, 0),
(-1, size-1),
(12, 0),
(-1, size-1),
(1, size-(3316)),
(68, 0),
(1, size-(-4495)),
(4, 0),
(1, size-(-421)),
(11, 0),
(1, size-(7629)),
(32, 0),
(1, size-(-3956)),
(33, 0),
(1, size-(-596)),
(42, 0),
(1, size-(8505)),
(-1, size-1),
(1, size-(4215)),
(74, 0),
(1, size-(9999)),
(7, 0),
(-1, size-1),
(71, 0),
(1, size-(6836)),
(27, 0),
(1, size-(188)),
(45, 0),
(-1, size-1),
(17, 0),
(1, size-(-6659)),
(-1, size-1),
(1, size-(-8919)),
(23, 0),
(1, size-(7758)),
(58, 0),
(1, size-(-9377)),
(51, 0),
(1, size-(-8010)),
(-1, size-1),
(1, size-(-8058)),
(57, 0),
(-1, size-1),
(7, 0),
(1, size-(-1977)),
(-1, size-1),
(1, size-(-4748)),
(55, 0),
(1, size-(-2901)),
(-1, size-1),
(1, size-(4362)),
(65, 0),
(1, size-(-4367)),
(51, 0),
(1, size-(2133)),
(-1, size-1),
(15, 0),
(-1, size-1),
(28, 0),
(1, size-(-5331)),
(41, 0),
(1, size-(-5157)),
(68, 0),
(1, size-(4776)),
(-1, size-1),
(28, 0),
(1, size-(2005)),
(14, 0),
(-1, size-1),
(1, size-(1341)),
(-1, size-1),
(1, size-(7623)),
(36, 0),
]

a = 1
b = 0

for na, nb in SEQUENCE:
    a *= na
    b *= na
    b += nb

print((a * card + b) % size)
